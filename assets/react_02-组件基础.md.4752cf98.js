import{_ as s,c as n,o as a,a as l}from"./app.6f9c0979.js";const p="/hm-docs/assets/组件.0d0f367b.png",e="data:image/png;base64,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",d=JSON.parse('{"title":"学习目标","description":"","frontmatter":{},"headers":[{"level":2,"title":"组件基本介绍","slug":"组件基本介绍","link":"#组件基本介绍","children":[]},{"level":2,"title":"React 创建组件的两种方式","slug":"react-创建组件的两种方式","link":"#react-创建组件的两种方式","children":[{"level":3,"title":"函数组件","slug":"函数组件","link":"#函数组件","children":[]},{"level":3,"title":"了解-类组件","slug":"了解-类组件","link":"#了解-类组件","children":[]}]},{"level":2,"title":"注册事件","slug":"注册事件","link":"#注册事件","children":[]},{"level":2,"title":"事件对象","slug":"事件对象","link":"#事件对象","children":[]},{"level":2,"title":"事件传值","slug":"事件传值","link":"#事件传值","children":[]},{"level":2,"title":"组件的状态 - state - 数据","slug":"组件的状态-state-数据","link":"#组件的状态-state-数据","children":[]},{"level":2,"title":"useState Hook 的基本使用","slug":"usestate-hook-的基本使用","link":"#usestate-hook-的基本使用","children":[]},{"level":2,"title":"react 插件的安装","slug":"react-插件的安装","link":"#react-插件的安装","children":[]},{"level":2,"title":"React 核心理念-状态不可变","slug":"react-核心理念-状态不可变","link":"#react-核心理念-状态不可变","children":[]},{"level":2,"title":"练习-购物车加减","slug":"练习-购物车加减","link":"#练习-购物车加减","children":[]},{"level":2,"title":"受控组件-基本概念","slug":"受控组件-基本概念","link":"#受控组件-基本概念","children":[]},{"level":2,"title":"受控组件-使用步骤","slug":"受控组件-使用步骤","link":"#受控组件-使用步骤","children":[]},{"level":2,"title":"Ref","slug":"ref","link":"#ref","children":[]}],"relativePath":"react/02-组件基础.md","lastUpdated":1676909710000}'),o={name:"react/02-组件基础.md"},t=l('<h1 id="学习目标" tabindex="-1">学习目标 <a class="header-anchor" href="#学习目标" aria-hidden="true">#</a></h1><ul><li>能够使用函数创建组件 - 函数组件</li><li>了解- class 创建组件-类组件</li><li>能够给 React 元素绑定事件</li><li>能够使用 useState</li><li>能够使用受控组件方式处理表单</li></ul><h2 id="组件基本介绍" tabindex="-1">组件基本介绍 <a class="header-anchor" href="#组件基本介绍" aria-hidden="true">#</a></h2><ul><li>组件是 React 中最基本的内容，使用 React 就是在使用组件</li><li>组件表示页面中的部分功能</li><li>多个组件可以实现完整的页面功能</li><li>组件特点：可复用，独立，可组合</li></ul><p><img src="'+p+`" alt=""></p><h2 id="react-创建组件的两种方式" tabindex="-1">React 创建组件的两种方式 <a class="header-anchor" href="#react-创建组件的两种方式" aria-hidden="true">#</a></h2><h3 id="函数组件" tabindex="-1">函数组件 <a class="header-anchor" href="#函数组件" aria-hidden="true">#</a></h3><blockquote><p>函数组件：使用 JS 的函数或者箭头函数创建的组件</p></blockquote><ul><li>为了区分普通标签，函数组件的名称必须 <code>大写字母开头</code></li><li>函数组件<code>必须有返回值</code>，表示该组件的结构</li><li>如果组件不渲染任何内容，可以返回 null。不能返回 undefined</li><li>React 组件对大小写敏感，使用组件同样要使用大写单词开头。</li></ul><p>使用函数创建组件</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Hello</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">这是我的函数组件</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用箭头函数创建组件</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Hello </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">这是一个函数组件</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用组件</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Hello</span><span style="color:#89DDFF;"> /&gt;,</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="了解-类组件" tabindex="-1">了解-类组件 <a class="header-anchor" href="#了解-类组件" aria-hidden="true">#</a></h3><blockquote><p>类组件：使用 ES6 的 class 语法创建组件</p></blockquote><p>约定 1：类组件的名称必须是大写字母开头</p><p>约定 2：类组件应该继承<code>React.Component</code>父类，从而可以使用父类中提供的方法或者属性</p><p>约定 3：类组件必须提供<code>render</code>方法，并返回组件的结构，如无需要返回的结构，返回 null</p><ul><li>定义组件</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Hello</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">这是一个类组件</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>使用组件</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">ReactDOM</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">render</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Hello</span><span style="color:#89DDFF;"> /&gt;,</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>注意：</strong></p><ol><li><code>class 组件名称 extends React.Component</code> 除了组件名称，都是固定写法</li><li>render 函数是钩子函数，名称是固定的，表示组件渲染一段 html 内容。</li><li>使用上，类组件与函数式组件，<strong>完全相同</strong>。</li></ol><h1 id="事件处理" tabindex="-1">事件处理 <a class="header-anchor" href="#事件处理" aria-hidden="true">#</a></h1><p>问题：React 中怎么给 DOM 绑定一个事件呢？</p><h2 id="注册事件" tabindex="-1">注册事件 <a class="header-anchor" href="#注册事件" aria-hidden="true">#</a></h2><p>**目标：**掌握 react 中如何注册事件</p><p><strong>内容</strong>：</p><ul><li><p>React 注册事件与 DOM 的事件语法非常像</p></li><li><p>语法<code>on+事件名 =｛事件处理程序｝</code> 比如<code>onClick={handleClick}</code></p></li><li><p>注意：<em>React 事件采用驼峰命名法</em>，比如<code>onMouseEnter</code>, <code>onClick</code></p></li></ul><p><strong>核心代码</strong></p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">handleClick</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">点击事件触发</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">123</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">点我</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">handleClick</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">点我</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>总结：</p><ol><li><p><strong>React 事件采用驼峰命名法</strong>，比如<code>onMouseEnter</code>, <code>onClick</code></p></li><li><p>class 中自定义方法，通过<code>this.方法名</code> 。</p></li></ol><p>注意：🔔</p><ol><li><strong>React 事件绑定一定是方法</strong>，不能是方法调用。如：<code>onClick = {alert(&#39;aaa&#39;)}</code></li><li><strong>少量的代码</strong>，可以通过箭头函数，来处理。如：<code>onClic = { () =&gt; alert(&#39;aaa&#39;) }</code></li></ol><h2 id="事件对象" tabindex="-1">事件对象 <a class="header-anchor" href="#事件对象" aria-hidden="true">#</a></h2><ul><li>可以通过事件处理函数的形参获取到事件对象</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> handleClick </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">preventDefault</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">事件对象</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">handleClick</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">点我，不会跳转页面</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="事件传值" tabindex="-1">事件传值 <a class="header-anchor" href="#事件传值" aria-hidden="true">#</a></h2><ul><li>方法：包一层箭头函数，在箭头函数中，调用处理函数。</li><li>记忆口诀：加个箭头，变成箭头函数。</li></ul><p>写法：</p><ul><li>完整写法</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">handleClick</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello React</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}}</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  点我，不会跳转页面</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>简写-<strong>推荐</strong>：省略了花括号，更利于阅读</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">handleClick</span><span style="color:#A6ACCD;">(e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello React</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">点我，不会跳转页面</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="组件的状态-state-数据" tabindex="-1">组件的状态 - state - 数据 <a class="header-anchor" href="#组件的状态-state-数据" aria-hidden="true">#</a></h2><p><strong>目标</strong>：掌握 react 类组件中如何提供状态以及渲染状态</p><p><strong>内容</strong>：</p><ul><li><p>状态<code>state</code>即数据。（同 Vue 的 data）</p><ul><li>类似 Vue 中的 data 函数。</li><li>React 同样是数据驱动视图 <strong>更新 UI</strong>。</li></ul></li><li><p>状态<code>state</code> 是组件内部的<code>私有数据</code>，独立作用域，（同 Vue 的 data）</p></li></ul><h2 id="usestate-hook-的基本使用" tabindex="-1">useState Hook 的基本使用 <a class="header-anchor" href="#usestate-hook-的基本使用" aria-hidden="true">#</a></h2><ul><li>使用场景：当你想要在<strong>函数组件中，使用组件状态时</strong>，就要使用 <strong>useState</strong> Hook 了</li><li>作用：为函数组件提供状态（state）</li><li>使用步骤： <ol><li>导入 <code>useState</code> 函数</li><li>调用 <code>useState</code> 函数，并传入状态的初始值</li><li>从 <code>useState</code> 函数的返回值中，拿到状态和修改状态的函数</li><li>在 JSX 中展示状态</li><li>在按钮的点击事件中调用修改状态的函数，来更新状态</li></ol></li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 返回值是一个数组</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setCount</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">/* 展示状态值 */</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">useState Hook -&gt; </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">/* 点击按钮，让状态值 +1 */</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setCount</span><span style="color:#A6ACCD;">(count </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">+1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>参数：<strong>状态初始值</strong>。比如，传入 0 表示该状态的初始值为 0 <ul><li>注意：此处的状态可以是任意值（比如，数值、字符串等），而 class 组件中的 state 必须是对象</li></ul></li><li>返回值：数组，包含两个值：1 状态值（state） 2 修改该状态的函数（setState）</li></ul><h2 id="react-插件的安装" tabindex="-1">react 插件的安装 <a class="header-anchor" href="#react-插件的安装" aria-hidden="true">#</a></h2><p>安装谷歌插件<code>react-devtools</code></p><h2 id="react-核心理念-状态不可变" tabindex="-1">React 核心理念-状态不可变 <a class="header-anchor" href="#react-核心理念-状态不可变" aria-hidden="true">#</a></h2><ul><li>不能直接修改 state 的值，而是提供新的值</li><li>直接修改 react 中 state 的值，组件并不会更新</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setCount</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> seList</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#A6ACCD;">([])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ❌错误操作：直接修改值的操作</span></span>
<span class="line"><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ✅</span></span>
<span class="line"><span style="color:#82AAFF;">setCount</span><span style="color:#A6ACCD;">(count </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">setList</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="练习-购物车加减" tabindex="-1">练习-购物车加减 <a class="header-anchor" href="#练习-购物车加减" aria-hidden="true">#</a></h2><blockquote><p>要求：加减按钮，绑定同一个处理函数</p></blockquote><p>效果如下：</p><p><img src="`+e+`" alt="image-20211208215255325"></p><p>基本的组件代码：</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> React </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">App</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">当前数值为：</span><span style="color:#89DDFF;">{this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">+1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;{this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">-1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h1 id="表单处理" tabindex="-1">表单处理 <a class="header-anchor" href="#表单处理" aria-hidden="true">#</a></h1><blockquote><p>我们在开发过程中，经常需要操作表单元素，比如获取表单的值或者是设置表单的值。</p></blockquote><p>react 中处理表单元素有两种方式：</p><ul><li>受控组件-表单元素的 value 受到 state 的控制，（类似 Vue 中的 v-model）</li><li>非受控组件（DOM 操作）</li></ul><h2 id="受控组件-基本概念" tabindex="-1">受控组件-基本概念 <a class="header-anchor" href="#受控组件-基本概念" aria-hidden="true">#</a></h2><ul><li>React 中将 state 中的数据与表单元素的 value 值绑定到了一起，<code>由state的值来控制表单元素的值</code></li><li>但是在 react 中，可变状态通常是保存在 state 中的，并且要求状态只能通过<code>setState</code>进行修改。</li><li>受控组件：<strong>value 值受到了 statet 控制的表单元素</strong></li></ul><h2 id="受控组件-使用步骤" tabindex="-1">受控组件-使用步骤 <a class="header-anchor" href="#受控组件-使用步骤" aria-hidden="true">#</a></h2><ol><li>在 state 中添加一个状态，作为表单元素的 value 值（控制表单元素的值）</li><li>给表单元素添加 change 事件，设置 state 的值为表单元素的值（控制值的变化）</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">msg</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setMsg</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello React</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">handleChange</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setMsg</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">value</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">msg</span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">onChange</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">handleChange</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>总结：</strong></p><p>什么是受控组件？</p><ol><li>表单元素。</li><li>🔔 由 state 控制值。</li><li>🔔 由 setState 来改变值。</li></ol><p>注意：</p><ol><li>👍<strong>推荐</strong>使用<code>onChange</code> 事件监听用户输入，👎<strong>不推荐</strong>使用<code>onInput</code>。</li><li><code>react</code> 中<code>change</code> 事件等同于 html 中的<code>input</code> 事件。</li><li><code>react</code>中的<code>blur</code> 事件，等同于 html 中的<code>change</code> 事件。</li></ol><h2 id="ref" tabindex="-1">Ref <a class="header-anchor" href="#ref" aria-hidden="true">#</a></h2><p><strong>作用：获取组件实例、获取 DOM</strong> （作用与 Vue 中的 Ref 相同)</p><p><strong>目标</strong>：使用 Ref 获取文本框的 DOM 元素</p><p><strong>使用步骤</strong>：</p><ol><li>从<code>react</code>中导入<code>useRef</code>函数</li><li>调用<code>useRef()</code>方法创建一个<code> ref</code> 对象</li><li>将创建好的<code>ref对象</code>绑定到<code>dom</code>元素上</li><li>通过 <code>ref 对象.current</code>属性获取<code>dom</code>元素</li></ol><p><strong>核心代码</strong>：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  学习目标：使用ref获取dom元素</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> React</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">iptRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useRef</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 2. 绑定ref对象到dom</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">iptRef</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">      /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">// 3. 通过ref对象.current获取</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">iptRef</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">current</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">focus</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}}</span></span>
<span class="line"><span style="color:#89DDFF;">      &gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        点我激活input</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>总结：</strong></p><ol><li>作用：获取组件实例、DOM 对象。 （与 Vue 中的 ref，在作用上相同）</li><li>ref 的价值在于获取 <strong>组件实例对象</strong>。</li><li>使用步骤： <ol><li>创建 ref 对象</li><li>绑定到组件或 DOM 上</li><li>使用<code>ref对象.current</code> 获取组件或 DOM</li></ol></li></ol>`,90),c=[t];function r(i,F,D,y,A,C){return a(),n("div",null,c)}const b=s(o,[["render",r]]);export{d as __pageData,b as default};
