import{_ as s,c as n,o as a,a as l}from"./app.6f9c0979.js";const p="data:image/png;base64,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",e="/hm-docs/assets/状态提升02.18d23a9d.png",o="/hm-docs/assets/context01.56490b0e.png",t="/hm-docs/assets/context02.5ddaf734.png",m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"学习目标","slug":"学习目标","link":"#学习目标","children":[]},{"level":2,"title":"组件通讯","slug":"组件通讯","link":"#组件通讯","children":[]},{"level":2,"title":"props","slug":"props","link":"#props","children":[{"level":3,"title":"函数组件通讯","slug":"函数组件通讯","link":"#函数组件通讯","children":[]}]},{"level":2,"title":"props 的特点","slug":"props-的特点","link":"#props-的特点","children":[]},{"level":2,"title":"props 深入-children 属性","slug":"props-深入-children-属性","link":"#props-深入-children-属性","children":[]},{"level":2,"title":"组件通讯三种方式","slug":"组件通讯三种方式","link":"#组件通讯三种方式","children":[]},{"level":2,"title":"父传子","slug":"父传子","link":"#父传子","children":[]},{"level":2,"title":"子传父","slug":"子传父","link":"#子传父","children":[]},{"level":2,"title":"兄弟组件","slug":"兄弟组件","link":"#兄弟组件","children":[]},{"level":2,"title":"跨组件通信-Context","slug":"跨组件通信-context","link":"#跨组件通信-context","children":[{"level":3,"title":"基本概念","slug":"基本概念","link":"#基本概念","children":[]},{"level":3,"title":"实现步骤","slug":"实现步骤","link":"#实现步骤","children":[]}]},{"level":2,"title":"跨组件通信-redux","slug":"跨组件通信-redux","link":"#跨组件通信-redux","children":[]}],"relativePath":"react/03-组件通讯.md","lastUpdated":1677170896000}'),r={name:"react/03-组件通讯.md"},c=l(`<h2 id="学习目标" tabindex="-1">学习目标 <a class="header-anchor" href="#学习目标" aria-hidden="true">#</a></h2><ul><li><p>组件通讯-介绍以及为什么要有组件通讯</p></li><li><p>组件的 props</p></li><li><p>组件通讯的三种方式 父传子 子传父 兄弟组件</p></li><li><p>Context 组件通讯</p></li></ul><h2 id="组件通讯" tabindex="-1">组件通讯 <a class="header-anchor" href="#组件通讯" aria-hidden="true">#</a></h2><p><strong>组件</strong>是<strong>独立作用域</strong>，默认情况下，只能使用组件自己的数据。在组件化过程中，我们将一个完整的功能 拆分成多个组件，以更好的完成整个应用的功能。而在这个过程中，<strong>多个组件</strong>之间不可避免的<strong>要共享某些数据</strong> 。为了实现这些功能，就需要打破组件的独立封闭性，让其与外界沟通。这个过程就是<strong>组件通讯</strong>。</p><h2 id="props" tabindex="-1">props <a class="header-anchor" href="#props" aria-hidden="true">#</a></h2><ul><li><strong>props 的作用：接收传递给组件的数据</strong></li><li><strong>props 的值</strong>：是标签属性组成对象。</li></ul><p>使用步骤：</p><ul><li><strong>传递数据</strong>：给组件标签添加属性。 -- 与 vue 类似</li><li><strong>接收数据</strong>：函数组件通过参数 props 接收数据，类组件通过 this.props 接收数据</li></ul><h3 id="函数组件通讯" tabindex="-1">函数组件通讯 <a class="header-anchor" href="#函数组件通讯" aria-hidden="true">#</a></h3><p>父组件</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Hello</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jack</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">age</span><span style="color:#89DDFF;">={</span><span style="color:#F78C6C;">19</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>子组件</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Hello</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">props</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">接收到数据：</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F78C6C;">1.</span><span style="color:#A6ACCD;"> 👍</span><span style="color:#82AAFF;">推荐解构</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">props</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F78C6C;">2.</span><span style="color:#A6ACCD;"> props是对象，标签属性组成的对象。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="props-的特点" tabindex="-1">props 的特点 <a class="header-anchor" href="#props-的特点" aria-hidden="true">#</a></h2><ul><li>可以给组件传递任意类型的数据，包括虚拟 DOM 结构 <ul><li>字符串、数字、</li><li>数组、对象、</li><li>💥 函数、💥JSX</li></ul></li><li>💥props 是只读的，不允许修改 props 的数据 - <strong>单向数据流</strong><ul><li>💥React 中 props 绕不过引用地址。</li></ul></li></ul><p>总结：</p><ol><li>props 是对象</li><li>props 可以是任意值</li></ol><h2 id="props-深入-children-属性" tabindex="-1">props 深入-children 属性 <a class="header-anchor" href="#props-深入-children-属性" aria-hidden="true">#</a></h2><p>children 属性：表示该组件的子节点，只要组件有子节点，props 就有该属性</p><p>children 属性与普通的 props 一样，值可以是任意值（文本、React 元素、组件，甚至是函数）</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Hello</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">该组件的子节点：</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">children</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Hello</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">我是子节点</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Hello</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="组件通讯三种方式" tabindex="-1">组件通讯三种方式 <a class="header-anchor" href="#组件通讯三种方式" aria-hidden="true">#</a></h2><ul><li>父传子</li><li>子传父</li><li>兄弟组件</li></ul><h2 id="父传子" tabindex="-1">父传子 <a class="header-anchor" href="#父传子" aria-hidden="true">#</a></h2><ol><li>父组件提供要传递的 state 数据</li><li>给子组件标签添加属性，值为 state 中的数据</li><li>子组件中通过 props 接收父组件中传递的数据</li></ol><p>静态结构准备</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> React</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">money</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setMoney</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">99</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">handleMakeMoney</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setMoney</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">money</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">handleMakeMoney</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">爸爸开始赚钱了</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Child</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">爸爸给我钱了： </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>父组件提供数据并且传递给子组件</p><div class="language-diff line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">export default function App() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const [money, setMoney] = useState(99);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  const handleMakeMoney = () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    setMoney(1000 + money);</span></span>
<span class="line"><span style="color:#A6ACCD;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  return (</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;button onClick={handleMakeMoney}&gt;爸爸开始赚钱了&lt;/button&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;Child</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">				money={money}</span></span>
<span class="line"><span style="color:#A6ACCD;">			/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  );</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>子组件接收数据</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Child</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">爸爸给我钱了： </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">money</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="子传父" tabindex="-1">子传父 <a class="header-anchor" href="#子传父" aria-hidden="true">#</a></h2><p>思路：利用回调函数，父组件提供回调，子组件调用，将要传递的数据作为回调函数的参数。</p><ol><li>父组件提供一个回调函数（用于接收数据）</li><li>将该函数作为标签属性的值，传递给子组件</li><li>子组件通过 props.语法找到函数，再 调用回调函数</li><li>将子组件的数据作为参数传递给回调函数</li></ol><p>使用步骤：</p><p>父组件提供函数，并且通过标签属性，传递给子组件</p><div class="language-diff line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">export default function App() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const [money, setMoney] = useState(99);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  const handleMakeMoney = () =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">    setMoney(1000 + this.state.money);</span></span>
<span class="line"><span style="color:#A6ACCD;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">// 1. 父组件提供一个回调函数</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">  const handleCostMoney = () =&gt; {</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">    setMoney(money - 100);</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  return (</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;button onClick={handleMakeMoney}&gt;爸爸开始赚钱了&lt;/button&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;Child</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">      	// 2. 将该函数作为标签属性的值，传递给子组件</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">      	handleCostMoney={handleCostMoney}</span></span>
<span class="line"><span style="color:#A6ACCD;">			/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  );</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">function Child({ handleCostMoney }) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  return (</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;h1&gt;爸爸给我钱了： &lt;/h1&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      &lt;button</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">      	onClick={handleCostMoney}</span></span>
<span class="line"><span style="color:#A6ACCD;">			&gt;吞金兽要花钱&lt;/button&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  );</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="兄弟组件" tabindex="-1">兄弟组件 <a class="header-anchor" href="#兄弟组件" aria-hidden="true">#</a></h2><ul><li>将共享状态提升到最近的公共父组件中，由公共父组件管理这个状态</li><li>思想：<strong>状态提升</strong></li><li>公共父组件职责： <ul><li>提供共享状态</li><li>提供操作共享状态的方法</li></ul></li><li>要通讯的子组件只需通过 props 接收状态或操作状态的方法</li></ul><p>状态提升前</p><p><img src="`+p+'" alt=""></p><p>状态提升之后</p><p><img src="'+e+`" alt=""></p><p>状态提升练习：</p><p><code>src/components/Husband.js</code></p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Husband</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">money</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">setMoney</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useState</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/* 赚钱方法 */</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">handleMakeMoney</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setMoney</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">money</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">border</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10px solid #ccc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">老公的钱: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">money</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">handleMakeMoney</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">老公赚钱</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>src/components/Wife.js</code></p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Wife</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/* 花钱方法 */</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">handleCostMoney</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 想要花点老公赚的钱</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">border</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10px solid #ccc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">handleCostMoney</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">老婆开始花钱</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>App.js</code></p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Husband </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./components/Husband</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Wife </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./components/Wife</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">textAlign</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}}&gt;</span><span style="color:#A6ACCD;">家庭存款：</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Husband</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#FFCB6B;">Husband</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">hr</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Wife</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#FFCB6B;">Wife</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="跨组件通信-context" tabindex="-1">跨组件通信-Context <a class="header-anchor" href="#跨组件通信-context" aria-hidden="true">#</a></h2><h3 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-hidden="true">#</a></h3><p>思考：App 组件要传递数据给 Child 组件，该如何处理？</p><p><img src="`+o+'" alt=""></p><p>处理方式：使用 props 一层层组件往下传递（繁琐）</p><p>更好的姿势：使用 Context</p><p>作用：跨组件传递数据（比如：主题、语言等）</p><p><img src="'+t+`" alt=""></p><p><code>App.js</code> 直接复制如下静态结构</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  目标： 使用Context来跨组价通信，让App组件-直接传数据给SonSon组件</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">父组件</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Son</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#FFCB6B;">Son</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Son</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> 儿子</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">SonSon</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#FFCB6B;">SonSon</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SonSon</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> 孙子</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="实现步骤" tabindex="-1">实现步骤 <a class="header-anchor" href="#实现步骤" aria-hidden="true">#</a></h3><ul><li>调用 React. createContext() 创建 Provider（提供数据） 和 Consumer（消费数据） 两个<strong>组件</strong>。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> Provider</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Consumer </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> React</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createContext</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>使用 Provider 组件作为父节点。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Provider</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">App</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child1</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Provider</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>设置 value 属性，表示要传递的数据。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Provider</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">value</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>调用 Consumer 组件接收数据。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Consumer</span><span style="color:#89DDFF;">&gt;{(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">data参数表示接收到的数据 -- </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;}&lt;/</span><span style="color:#FFCB6B;">Consumer</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>总结：</p><ol><li>如果两个组件是远方亲戚（比如，嵌套多层）可以使用 Context 实现组件通讯</li><li>Context 提供了两个组件：Provider 和 Consumer。</li><li>createContext()可以调用多次，每次解构出来的 Provider 和 Consumer 要成对使用。</li><li>Provider 组件：用来存入数据</li><li>Consumer 组件：用来取出数据</li></ol><h2 id="跨组件通信-redux" tabindex="-1">跨组件通信-redux <a class="header-anchor" href="#跨组件通信-redux" aria-hidden="true">#</a></h2><p>后续学习</p>`,75),i=[c];function F(y,D,A,C,b,u){return a(),n("div",null,i)}const g=s(r,[["render",F]]);export{m as __pageData,g as default};
